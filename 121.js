"use strict";(self.webpackChunkmicrohard_todo=self.webpackChunkmicrohard_todo||[]).push([[121],{3121:(e,a,n)=>{n.r(a),n.d(a,{default:()=>f});var o=n(3938),t=n(2991),r=n.n(t),s=n(1618),i=n.n(s),l=(n(6992),n(3948),n(9392)),p=n.n(l),c=n(1942),d=n.n(c);class u{static getBaseLoaderOptions(){return{key:"172e1009e7cb82791898756e6d0ba14b",version:"2.0",AMapUI:{version:"1.1",plugins:["overlay/SimpleMarker"]}}}constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loaderOptions=e,this.MapCtr=null,this.mapInstance=null,this.overlayMap=new(p())}mountMap(e,a){var n=this;return(0,o.Z)((function*(){n.MapCtr=yield i().load(d()(u.getBaseLoaderOptions(),n.loaderOptions)),n.mapInstance=new n.MapCtr.Map(e,a),new AMapUI.SimpleMarker({iconLabel:{innerHTML:"<span style='color: white;font-size: 14px'>热</span>"},iconTheme:"default",iconStyle:"blue",position:n.mapInstance.getCenter(),map:n.mapInstance,showPositionPoint:!0})}))()}addControls(e,a){Array.isArray(e)?e.forEach((e=>{var{name:a,options:n}=e;this.mapInstance.addControl(new this.MapCtr[map](n))})):this.mapInstance.addControl(new this.MapCtr[e](a))}addOverlay(){}addLayer(){}unMountMap(){for(var[e,{name:a,handler:n}]of this.overlayMap)e.off(a,n);this.mapInstance.clearMap(),this.mapInstance.destroy()}}const h=u,m={name:"plan",data(){var e={};return Object.defineProperty(e,"map",{configurable:!1}),e},methods:{backCenter(){r()(this).setCenter([116.400274,39.905812])},useMouseTool(e){return new e.MouseTool(r()(this))},initMap(){var e=this;return(0,o.Z)((function*(){var a=new h({plugins:["AMap.Scale","AMap.PolygonEditor","AMap.MouseTool"]});e.$once("hook:beforeDestroy",(function(){a.unMountMap()})),yield a.mountMap("map-container",{center:[116.400274,39.905812],zoom:14});var{MapCtr:n,mapInstance:o}=a;e.map=o;var t=new n.MouseTool(o);t.polygon({strokeColor:"#FF33FF",fillColor:"#1791fc",fillOpacity:.4,strokeOpacity:.2}),t.on("draw",(function(e){t.close()})),t.on("end",(function(){t.close()})),o.on("zoomchange",(e=>{}));var r=new a.MapCtr.Polygon({path:[[116.403322,39.920255],[116.410703,39.897555],[116.402292,39.892353],[116.389846,39.891365]],strokeColor:"#FF33FF",strokeWeight:6,strokeOpacity:.2,fillOpacity:.4,fillColor:"#1791fc",zIndex:50}),s=()=>{alert("you are click me")};r.on("click",s),a.overlayMap.set(r,{name:"click",handler:s}),a.addControls("Scale"),a.mapInstance.add(r),a.mapInstance.setFitView([r])}))()}},mounted(){console.log(r()(this)),this.initMap()},render(){var e=arguments[0];return e("div",{class:"map-box"},[e("button",{on:{click:this.backCenter}},["回到中心"]),e("div",{attrs:{id:"map-container"}})])}};var M=(0,n(1900).Z)(m,void 0,void 0,!1,null,"e48efe0a",null);M.options.__file="src/pages/plan/plan.vue";const f=M.exports}}]);