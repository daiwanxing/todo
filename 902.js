"use strict";(self.webpackChunkmicrohard_todo=self.webpackChunkmicrohard_todo||[]).push([[902],{1618:function(e){e.exports=function(){function e(e){var a=[];return e.AMapUI&&a.push(o(e.AMapUI)),e.Loca&&a.push(n(e.Loca)),Promise.all(a)}function o(e){return new Promise((function(o,n){var i=[];if(e.plugins)for(var p=0;p<e.plugins.length;p+=1)-1==t.AMapUI.plugins.indexOf(e.plugins[p])&&i.push(e.plugins[p]);if(s.AMapUI===a.failed)n("前次请求 AMapUI 失败");else if(s.AMapUI===a.notload){s.AMapUI=a.loading,t.AMapUI.version=e.version||t.AMapUI.version,p=t.AMapUI.version;var r=document.body||document.head,c=document.createElement("script");c.type="text/javascript",c.src="https://webapi.amap.com/ui/"+p+"/main.js",c.onerror=function(e){s.AMapUI=a.failed,n("请求 AMapUI 失败")},c.onload=function(){if(s.AMapUI=a.loaded,i.length)window.AMapUI.loadUI(i,(function(){for(var e=0,n=i.length;e<n;e++){var a=i[e].split("/").slice(-1)[0];window.AMapUI[a]=arguments[e]}for(o();l.AMapUI.length;)l.AMapUI.splice(0,1)[0]()}));else for(o();l.AMapUI.length;)l.AMapUI.splice(0,1)[0]()},r.appendChild(c)}else s.AMapUI===a.loaded?e.version&&e.version!==t.AMapUI.version?n("不允许多个版本 AMapUI 混用"):i.length?window.AMapUI.loadUI(i,(function(){for(var e=0,n=i.length;e<n;e++){var a=i[e].split("/").slice(-1)[0];window.AMapUI[a]=arguments[e]}o()})):o():e.version&&e.version!==t.AMapUI.version?n("不允许多个版本 AMapUI 混用"):l.AMapUI.push((function(e){e?n(e):i.length?window.AMapUI.loadUI(i,(function(){for(var e=0,n=i.length;e<n;e++){var a=i[e].split("/").slice(-1)[0];window.AMapUI[a]=arguments[e]}o()})):o()}))}))}function n(e){return new Promise((function(o,n){if(s.Loca===a.failed)n("前次请求 Loca 失败");else if(s.Loca===a.notload){s.Loca=a.loading,t.Loca.version=e.version||t.Loca.version;var i=t.Loca.version,p=t.AMap.version.startsWith("2"),r=i.startsWith("2");if(p&&!r||!p&&r)n("JSAPI 与 Loca 版本不对应！！");else{p=t.key,r=document.body||document.head;var c=document.createElement("script");c.type="text/javascript",c.src="https://webapi.amap.com/loca?v="+i+"&key="+p,c.onerror=function(e){s.Loca=a.failed,n("请求 AMapUI 失败")},c.onload=function(){for(s.Loca=a.loaded,o();l.Loca.length;)l.Loca.splice(0,1)[0]()},r.appendChild(c)}}else s.Loca===a.loaded?e.version&&e.version!==t.Loca.version?n("不允许多个版本 Loca 混用"):o():e.version&&e.version!==t.Loca.version?n("不允许多个版本 Loca 混用"):l.Loca.push((function(e){e?n(e):n()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var a,i;(i=a||(a={})).notload="notload",i.loading="loading",i.loaded="loaded",i.failed="failed";var t={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},l={AMap:[],AMapUI:[],Loca:[]},p=[];return{load:function(o){return new Promise((function(n,i){if(s.AMap==a.failed)i("");else if(s.AMap==a.notload){var l=o.key,r=o.version,c=o.plugins;l?(window.AMap&&"lbs.amap.com"!==location.host&&i("禁止多种API加载方式混用"),t.key=l,t.AMap.version=r||t.AMap.version,t.AMap.plugins=c||t.AMap.plugins,s.AMap=a.loading,r=document.body||document.head,window.___onAPILoaded=function(t){if(delete window.___onAPILoaded,t)s.AMap=a.failed,i(t);else for(s.AMap=a.loaded,e(o).then((function(){n(window.AMap)})).catch(i);p.length;)p.splice(0,1)[0]()},(c=document.createElement("script")).type="text/javascript",c.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+t.AMap.version+"&key="+l+"&plugin="+t.AMap.plugins.join(","),c.onerror=function(e){s.AMap=a.failed,i(e)},r.appendChild(c)):i("请填写key")}else if(s.AMap==a.loaded)if(o.key&&o.key!==t.key)i("多个不一致的 key");else if(o.version&&o.version!==t.AMap.version)i("不允许多个版本 JSAPI 混用");else{if(l=[],o.plugins)for(r=0;r<o.plugins.length;r+=1)-1==t.AMap.plugins.indexOf(o.plugins[r])&&l.push(o.plugins[r]);l.length?window.AMap.plugin(l,(function(){e(o).then((function(){n(window.AMap)})).catch(i)})):e(o).then((function(){n(window.AMap)})).catch(i)}else if(o.key&&o.key!==t.key)i("多个不一致的 key");else if(o.version&&o.version!==t.AMap.version)i("不允许多个版本 JSAPI 混用");else{var d=[];if(o.plugins)for(r=0;r<o.plugins.length;r+=1)-1==t.AMap.plugins.indexOf(o.plugins[r])&&d.push(o.plugins[r]);!function(e){"function"==typeof e&&(s.AMap===a.loaded?e(window.AMap):p.push(e))}((function(){d.length?window.AMap.plugin(d,(function(){e(o).then((function(){n(window.AMap)})).catch(i)})):e(o).then((function(){n(window.AMap)})).catch(i)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,t={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},l={AMap:[],AMapUI:[],Loca:[]}}}}()},2176:(e,o,n)=>{n.d(o,{Z:()=>s});var a=function(){var e=this,o=e.$createElement,n=e._self._c||o;return n("div",{staticClass:"list-panel"},[n("div",{staticClass:"list-panel-box"},[n("div",{staticClass:"list-header"},[n("div",{staticClass:"list-header-title"},[e.icon?[n("font-awesome-icon",{attrs:{icon:e.icon}})]:e._e(),e._v("\n        "+e._s(e.headerTitle)+"\n      ")],2),e._v(" "),e.headerSubTitle?n("div",{staticClass:"list-header-sub-title"},[e._v("\n        "+e._s(e.headerSubTitle)+"\n      ")]):e._e(),e._v(" "),n("div",{staticClass:"options-menu"},[n("font-awesome-icon",{attrs:{icon:"ellipsis-h"}})],1)]),e._v(" "),n("div",{staticClass:"list-body"},[e._t("default"),e._v(" "),n("div",{staticClass:"add-task"},[n("font-awesome-icon",{attrs:{icon:"plus"}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.task,expression:"task"}],attrs:{type:"text",placeholder:"添加任务"},domProps:{value:e.task},on:{input:function(o){o.target.composing||(e.task=o.target.value)}}})],1)],2)])])};a._withStripped=!0;const i={props:{headerTitle:{type:String,required:!0},headerSubTitle:{type:String},icon:{type:String}},data:()=>({task:""})};var t=(0,n(1900).Z)(i,a,[],!1,null,"05247918",null);t.options.__file="src/component/list-panel/list-panel.vue";const s=t.exports},2902:(e,o,n)=>{n.r(o),n.d(o,{default:()=>l}),n(2176);var a=n(1618),i=n.n(a);const t={name:"plan",data:()=>({MapCtr:null,map:null}),methods:{backCenter(){this.map.setCenter([116.400274,39.905812])},useMouseTool(e){return new e.MouseTool(this.map)},initMap(){i().load({key:"172e1009e7cb82791898756e6d0ba14b",version:"2.0",plugins:["AMap.PolyEditor","AMap.Scale","AMap.MouseTool"]}).then((e=>{this.MapCtr=e,this.map=new e.Map("map-container",{center:[116.400274,39.905812],zoom:14,animateEnable:!1});var o=this.useMouseTool(e),n=(o.polygon({strokeColor:"#FF33FF",fillColor:"#1791fc",fillOpacity:.4,strokeOpacity:.2}),[]);o.on("draw",(function(e){console.log(e.obj.getPath()),n.push(e.obj)})),o.on("end",(function(){console.log("绘制结束")}));var a=new e.Polygon({path:[[116.403322,39.920255],[116.410703,39.897555],[116.402292,39.892353],[116.389846,39.891365]],strokeColor:"#FF33FF",strokeWeight:6,strokeOpacity:.2,fillOpacity:.4,fillColor:"#1791fc",zIndex:50});new e.PolyEditor(this.map,a).open(),this.map.addControl(new e.Scale),this.map.add(a),this.map.setFitView([a])}))}},mounted(){this.initMap()},beforeDestroy(){this.map.destroy(),this.map=null},render(){var e=arguments[0];return e("div",{class:"map-box"},[e("button",{on:{click:this.backCenter}},["回到中心"]),e("div",{attrs:{id:"map-container"}})])}};var s=(0,n(1900).Z)(t,void 0,void 0,!1,null,"e48efe0a",null);s.options.__file="src/pages/plan/plan.vue";const l=s.exports}}]);